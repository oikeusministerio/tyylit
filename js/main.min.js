function IsEmail(a){var b=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;return b.test(a)}function Toast(a,b,c){this.type=a,this.css=b,this.msg=c}if($(".btn-group").length&&($(".btn-group").find("a").click(function(a){a.preventDefault(),$(this).parent().find("a").each(function(){$(this).removeClass("active")}),$(this).addClass("active")}),$(".btn-group").find("input").length&&$(".btn-group").find("input").click(function(){$(this).parent().find("input").each(function(){$(this).removeClass("active")}),$(this).addClass("active")})),$(".form-element").length){if($("#email").blur(function(){var a=$("#email").val();IsEmail(a)?($(".icon-ok").hasClass("is-hidden")&&($(".icon-ok").removeClass("is-hidden"),$(".icon-ok").addClass("is-visible")),$(".error-text").hasClass("is-visible")&&($(".error-text").addClass("is-hidden"),$(".error-text").removeClass("is-visible"))):($(".icon-ok").hasClass("is-visible")&&($(".icon-ok").removeClass("is-visible"),$(".icon-ok").addClass("is-hidden")),$(".error-text").hasClass("is-hidden")&&($(".error-text").addClass("is-visible"),$(".error-text").removeClass("is-hidden")))}),$("#url").val)var url=$("#url");if($("textarea").length){var ta,maxlength;$("textarea").each(function(){$(this).after('<span class="textarea-word-count inactive"></span>'),maxlength=$(this).attr("maxlength"),$(this).parent().find(".inactive").text(maxlength)}),$(".form-element textarea").keyup(function(){ta=$(this),ta.hasClass("js-dynamic")&&ta.height(1).height(ta[0].scrollHeight),ta.parent().find(".textarea-word-count").hasClass("inactive")&&ta.parent().find(".textarea-word-count").removeClass("inactive"),maxlength=ta.attr("maxlength"),ta.parent().find(".textarea-word-count").text(maxlength-ta.val().length)})}}if($(".datepicker").length&&$(".datepicker").pickadate({format:"d.m.yyyy",formatSubmit:"yyyy/mm/dd",hiddenPrefix:"prefix__",hiddenSuffix:"__suffix",monthsFull:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],monthsShort:["Tam","Hel","Maa","Huh","Tou","Kes","Hei","Elo","Syy","Lok","Mar","Jou"],weekdaysFull:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],weekdaysShort:["Su","Ma","Ti","Ke","To","Pe","La"],showMonthsShort:!1,firstDay:"Ma",today:"Tänään",clear:"Tyhjennä valinta"}),$(".navi-sample ul li ul").css("visibility","hidden"),$(".navi-sample ul li.toplevel .arrow-link").click(function(a){a.stopPropagation(),"hidden"==$(this).next("ul").css("visibility")?($(".navi-top ul li ul").css("visibility","hidden"),$(this).next("ul").css("visibility","visible")):$(this).next("ul").css("visibility","hidden")}),$(".fadeout").length){var orig_text;$(".read-more").find("a").click(function(a){a.preventDefault(),orig_text=$(this).text(),$(this).parent().parent(".fadeout").addClass("open"),$(this).addClass("pt-fix"),$(this).parent().remove()})}$(".helper-container").length&&$(".icon-help").on("click",function(){$(this).parent().find(".helper-text").toggleClass("is-visible is-vishidden")}),$(".site-actions > a, #closeButtonContainer").click(function(){$(".site-actions > a").removeClass("selected"),$(this).addClass("selected")}),$(".expandable").each(function(){var a=$(this),b=$(".close",a);b.click(function(){a.removeClass("expanded"),$(".navi-responsive").removeClass("is-visible")})});var show_section=function(a){a.hasClass("is-visible")?($(".expandable").removeClass("expanded"),$(".navi-responsive").removeClass("is-visible"),$(a.selector).removeClass("is-visible"),$(".site-actions").find("a").removeClass("selected")):a.hasClass("navi-responsive")?(a.addClass("is-visible").find(".section").removeClass("is-visible"),$("body").find(".expandable").addClass("expanded expanded-navi"),$(".expandable").find(".section").removeClass("is-visible"),$(".site-actions").find("a").removeClass("selected")):(a.addClass("is-visible").siblings(".section").removeClass("is-visible"),$(".navi-responsive").removeClass("is-visible"),$(".navi-responsive").find(".sub-nav-open").parent().find("ul").slideUp(),$(".navi-responsive").find(".sub-nav-open").removeClass("sub-nav-open"),a.closest(".expandable").removeClass("expanded-navi expanded-full-navi"),a.closest(".expandable").addClass("expanded"))};if($("#hlLogin,#hlLogin2").click(function(a){show_section($("#pnlLogin")),a.preventDefault()}),$("#hlRegister,#hlRegister2").click(function(a){show_section($("#pnlRegistration")),a.preventDefault()}),$("#hlPasswordRecover").click(function(a){show_section($("#pnlPasswordRecover")),a.preventDefault()}),$(".navi-responsive").length){var m_trigger=$(".mobile-trigger a"),sn_trigger=$(".sub-nav-trigger"),nav=$(".navi-responsive");m_trigger.click(function(a){a.preventDefault(),show_section(nav)}),sn_trigger.click(function(a){a.preventDefault(),a.stopPropagation(),$(this).parent().find("ul").slideToggle(200),$(this).toggleClass("sub-nav-open"),$(".expandable").hasClass("expanded-navi")&&$(".expandable").addClass("expanded-full-navi")}),$("html").click(function(){$(".navi-responsive").find("li").find("ul").slideUp(50),$(".navi-responsive").find("a").removeClass("sub-nav-open")})}if(window.onresize=function(){$(".expandable").hasClass("expanded-navi")&&window.innerWidth>768&&($(".expandable").removeClass("expanded expanded-navi expanded-full-navi"),$(".navi-responsive").removeClass("is-visible"))},$(".user-navigation").length){var u_trigger=$(".user-navigation").find(".icon-arrow");u_trigger.on("click",function(){$(this).parent().find("ul").toggleClass("is-visible is-vishidden")})}var toasts=[new Toast("error","toast-top-full-width",$(".msg-error").find(".msg-toast").html()),new Toast("info","toast-top-full-width",$(".msg-info").find(".msg-toast").html()),new Toast("warning","toast-top-full-width",$(".msg-warning").find(".msg-toast").html()),new Toast("success","toast-top-full-width",$(".msg-success").find(".msg-toast").html())];toastr.options.positionClass="toast-top-full-width",toastr.options.extendedTimeOut=0,toastr.options.timeOut=0,toastr.options.fadeOut=250,toastr.options.fadeIn=250,$(".toast-container").find(".toast-trigger").on("click",function(){var a;toast_type=$(this).attr("id");for(var b=0;b<toasts.length;b++)toast_type===toasts[b].type&&(a=toasts[b]);toastr[a.type](a.msg)}),$("#myCarousel").carousel({interval:7e3,pause:"hover"}),$("#myCarousel").on("slid.bs.carousel",function(){$(this).find(".active").hasClass("item-text")?(console.log($(".carousel-indicators").find(".active")),$(".carousel-indicators").addClass("inverse-color")):$(".carousel-indicators").removeClass("inverse-color")}),$(".tagit-list").tagit({allowSpaces:!0,availableTags:["demokratia","äänestys","foo","bar","lorem","lipsum","otakantaa","ota kantaa","vaalit"]}),$(".tagit-list .tagit-new input.ui-autocomplete-input").attr("placeholder","Aloita kirjoittamaan asiasanaa"),$(".location-list").tagit({allowSpaces:!0,availableTags:["Turku","Helsinki","Tampere","Oulu","Jyväskylä","Vaasa","Seinäjoki","Rovaniemi","Hanko"]}),$(".location-list .tagit-new input.ui-autocomplete-input").attr("placeholder","Aloita kirjoittamaan paikkakunnan nimeä"),$(".person-list").tagit({allowSpaces:!0,availableTags:["Matti Meikäläinen","Oskari Olematon","David Hasselhoff","Homer Simpson","Aku Ankka","Roope Ankka","B Virtanen"]}),$(".person-list .tagit-new input.ui-autocomplete-input").attr("placeholder","Aloita kirjoittamaan henkilön nimeä"),$("#btnAddParticipationContainer").removeClass("is-hidden"),$("#btnCancelParticipationContainer").removeClass("is-hidden"),$("#addParticipations").hide(),$("#btnAddParticipation").click(function(){$("#showParticipations").hide(),$("#addParticipations").show()}),$("#btnCancelParticipation").click(function(){$("#showParticipations").show(),$("#addParticipations").hide()});